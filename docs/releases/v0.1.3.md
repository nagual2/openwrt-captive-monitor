# openwrt-captive-monitor v0.1.3

## Highlights

- Add an automated integration test for `scripts/build_ipk.sh` so the `.ipk`
  payload, conffiles, and control metadata stay intact across future changes.
- Refresh the release checklist, contributing guide, and README with
  GitHub-release-centric installation instructions and feed publishing steps.
- Bump the OpenWrt package version to `0.1.3` to prepare the v0.1.3 tag.

## Artifacts to attach

Run the quick packager and upload the following outputs to the GitHub Release:

- `openwrt-captive-monitor_0.1.3-1_all.ipk`
- `dist/opkg/all/Packages`
- `dist/opkg/all/Packages.gz`
- (optional) `dist/opkg/all/Packages.manifest`

The helper keeps architecture-specific files under `dist/opkg/<arch>/` if you
select a different `--arch` value.

## Build locally

From the repository root:

```bash
scripts/build_ipk.sh --arch all
```

The command reads the version from `package/openwrt-captive-monitor/Makefile`
and emits the `.ipk` plus feed indexes into `dist/opkg/all/`.

## Installation quickstart

```bash
wget https://github.com/nagual2/openwrt-captive-monitor/releases/download/v0.1.3/openwrt-captive-monitor_0.1.3-1_all.ipk
scp openwrt-captive-monitor_0.1.3-1_all.ipk root@192.168.1.1:/tmp/
ssh root@192.168.1.1 <<'EOSSH'
opkg install /tmp/openwrt-captive-monitor_0.1.3-1_all.ipk
uci set captive-monitor.config.enabled='1'
uci commit captive-monitor
/etc/init.d/captive-monitor enable
/etc/init.d/captive-monitor start
EOSSH
```

To uninstall after testing:

```bash
ssh root@192.168.1.1 "opkg remove openwrt-captive-monitor"
```

## Checksums

Generate checksums before publishing the release artifacts:

```bash
cd dist/opkg/all
sha256sum openwrt-captive-monitor_0.1.3-1_all.ipk > SHA256SUMS
sha256sum Packages.gz >> SHA256SUMS
```

Upload the `SHA256SUMS` file alongside the artifacts so users can verify
integrity on download.
